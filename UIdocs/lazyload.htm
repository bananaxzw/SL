<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
     <link href="../docs/css/style.css" rel="stylesheet" type="text/css" />
    <script src="../src/sl-min.js" type="text/javascript"></script>
    <script src="../src/SL.Node.js" type="text/javascript"></script>
    <script src="../docs/js/hl-all.js" type="text/javascript"></script>
   <link href="../docs/js/style.css" rel="stylesheet" type="text/css" />
    <script src="../src/UI/SL.LazyLoad.js" type="text/javascript"></script>
    <style>

.lazy{ width:600px;overflow:scroll;border:1px solid #ccc;}
.lazy table{border-collapse:collapse;}
.lazy td{border:1px solid #ccc;text-align:center;padding:20px;background:#FFF;}

#idLazyContainer{height:250px;*position:relative;}
#idLazyContainer table{position:relative;}
#idLazyContainer div{width:140px;height:100px;line-height:100px;position:relative;}

        #idLazyContainer2
        {
            height: 200px;
        }
        #idLazyContainer2 div
        {
            width: 140px;
            height: 100px;
            line-height: 25px;
        }
        #idLazyContainer2 textarea
        {
            display: none;
        }
    </style>
    <script src="../SL.AutoComplete.js" type="text/javascript"></script>
    <script type="text/javascript">
        sl.ready(function () {
            DlHighlight.HELPERS.highlightByName("code", "pre");
            if (sl.Browser.ie) {
                slChain("pre.DlHighlight").each(function () {
                    var $this = slChain(this);
                    $this.html("<pre>" + $this.find("pre").html() + "</pre>");
                })
            }
            try {
                var obj = parent.document.getElementById("classFrame");  //取得父页面IFrame对象
                //alert(obj.height); //弹出父页面中IFrame中设置的高度
                obj.height = document.body.scrollHeight;  //调整父页面中IFrame的高度为此页面
            } catch (e) { }




        });
        sl.ready(function () {
            var i = 0;
            var container = slChain("#idLazyContainer2"), lazyTable = container.html();
            lazyTable = lazyTable.replace(/<div>/ig, '<div><img src="http://images.cnblogs.com/cnblogs_com/xuzhiwei/274587/o_o_loading.gif" />');
            function Lazy2() {
                container.html(lazyTable)
                var elems = sl.map(slChain("textarea", container).elements, function (area) { return area.parentNode; }),
        lazy = new sl.ui.lazyload(elems, {
            container: container.elements[0], mode: "cross",
            onLoadData: function (elem) {
                elem.innerHTML = elem.getElementsByTagName("textarea")[0].value + (i++);
            }
        });
                slChain("#idReset2").click(function () {
                    lazy.dispose(); Lazy2();
                });
            }

            Lazy2();
        });
       
    </script>
</head>
<body>
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span10">
                <div id="content" style="width: 65%;">
                    <!-- ============================== class title ============================ -->
                    <h1 class="classTitle">
                        懒加载
                        <div class='file'>
                           <!-- define in:<a href="../symbols/src/SL.Date.js.html">SL.Date.js</a>--></div>
                    </h1>
                    <hr>
                    <div class="detailTitle fixedFont">
                        <span class="methodType"></span>
                        <label class=" label label-info methodName">
                            实例</label>
                    </div>
                    <dl class="description">
                        <dt class="heading">代码如下:</dt>
                    </dl>
<pre style="margin:15px 0;font:100 12px/18px monaco, andale mono, courier new;padding:10px 12px;border:#ccc 1px solid;border-left-width:4px;background-color:#fefefe;box-shadow:0 0 4px #eee;word-break:break-all;word-wrap:break-word;color:#444"><span style="color:#708">new</span> <span style="color:#000">sl</span>.<span style="color:#000">ui</span>.<span style="color:#000">lazyload</span>(<span style="color:#000">elems</span>, {<br>            <span style="color:#000">container</span>: <span style="color:#000">container</span>.<span style="color:#000">elements</span>[<span style="color:#164">0</span>], <span style="color:#000">mode</span>: <span style="color:#a11">"cross"</span>,<br>            <span style="color:#000">onLoadData</span>: <span style="color:#708">function</span> (<span style="color:#00f">elem</span>) {<br>                <span style="color:#000-2">elem</span>.<span style="color:#000">innerHTML</span> = <span style="color:#000-2">elem</span>.<span style="color:#000">getElementsByTagName</span>(<span style="color:#a11">"textarea"</span>)[<span style="color:#164">0</span>].<span style="color:#000">value</span> + (<span style="color:#000">i</span>++);<br>            }<br>});</pre>            
                    <dl class="detailList">
                        <dt class="heading">效果:</dt>
                        <input id="idReset2" type="button" value="重新开始">
                        <div class="lazy" id="idLazyContainer2">
                            <table cellspacing="0" cellpadding="0">
                                <tr>
                                    <td>
                                        <div id="me">
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈x</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈x</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈x</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈x</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈x</a></b></textarea>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <textarea><b><a href="http://www.aspnetjs.com/">哈哈哈哈</a></b></textarea>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </dl>
                    <hr>
                    <div class="detailTitle fixedFont">
                        <span class="methodType"></span>
                        <label class=" label label-info methodName">
                            参数说明</label>
                    </div>
                    <table class="summaryTable" cellspacing="0" summary="A summary of the methods documented in the class date.">
                        <thead>
                            <th>
                                名称
                            </th>
                            <th>
                                说明
                            </th>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    elems
                                </td>
                                <td>
                                    要延迟加载的元素
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <br />
                       <div class="detailTitle fixedFont">
                        <span class="methodType"></span>
                        <label class=" label label-info methodName">
                            OPTION参数说明</label>
                    </div>
                    <table class="summaryTable" cellspacing="0" summary="A summary of the methods documented in the class date.">
                        <thead>
                            <th>
                                名称
                            </th>
                            <th>
                                说明
                            </th>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    container{dom元素类型}
                                </td>
                                <td>
                                    元素的容器 也就是懒加载的元素 随着容器的滚动条而逐步出现
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    mode{string}
                                </td>
                                <td>
                                   "cross"垂直正交-一排一排加载  水平正交-一列一列加载<br />
                                   "horizontal"水平方向  满足水平坐标的元素都加载 一列一列<br />
                                   "vertical"垂直方向 满足垂直坐标的元素都加载 一行一行
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    onLoadData{function}
                                </td>
                                <td>
                                 当加载到该元素的时候触发 onLoadData(elem);
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                </div>
            </div>
        </div>
    </div>
</body>
  <script type="text/javascript">
      window.onload = function () {
          var iheight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
          
          top.setFrameHeight(iheight + "px");
      }
    </script>
</html>
