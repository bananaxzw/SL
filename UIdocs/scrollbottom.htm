<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>javascript 滚动条到达底部加载</title>
    <meta name="description" content="javascript 滚动条到达底部加载" />
    <meta name="keywords" content="javascript 滚动条到达底部加载" />
     <link href="http://www.aspnetjs.com/SL/src/css/default/style.css" rel="stylesheet" type="text/css" />
   <script src="http://www.aspnetjs.com/SL/src/sl-min.js" type="text/javascript"></script>
    <script src="http://www.aspnetjs.com/SL/src/SL.Node.js" type="text/javascript"></script>
    <script src="http://www.aspnetjs.com/SL/docs/js/hl-all.js" type="text/javascript"></script>
    <link href="http://www.aspnetjs.com/SL/docs/js/style.css" rel="stylesheet" type="text/css" />
    <script src="http://www.aspnetjs.com/SL/src/UI/SL.BottomLoad.js" type="text/javascript"></script>
    <style type="text/css">
        #Ul1
        {
            height: 400px;
            overflow: auto;
        }
    </style>
    <script type="text/javascript">
        sl.ready(function () {
            DlHighlight.HELPERS.highlightByName("code", "pre");
            if (sl.Browser.ie) {
                $("pre.DlHighlight").each(function () {
                    var $this = $(this);
                    $this.html("<pre>" + $this.find("pre").html() + "</pre>");
                })
            }
            try {
                var obj = parent.document.getElementById("classFrame");  //取得父页面IFrame对象
                //alert(obj.height); //弹出父页面中IFrame中设置的高度
                obj.height = document.body.scrollHeight;  //调整父页面中IFrame的高度为此页面
            } catch (e) { }

        });

        sl.ready(function () {
            var waitingContent = $("<li>加载中...........</li>");
            var mm = new sl.ui.bottomload({ container: document.getElementById("Ul1"),
                onReach: function () {
                    $("#Ul1").append(waitingContent);
                },
                LoadData: function (data) {
                    $("#Ul1").append(data);
                    $(waitingContent).remove();
                },
                ajaxRequest: true,
                ajaxOption: { url: "../bottomloaded.ashx" }
            });

        });
       
    </script>
</head>
<body>
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span10">
                <div id="content">
                    <!-- ============================== class title ============================ -->
                    <h1 class="classTitle">
                        滚动底部加载
                        <div class='file'>
                            define in:<a href="../symbols/src/SL.Date.js.html">SL.Date.js</a></div>
                    </h1>
                    <hr>
                    <br />
                    <div class="detailTitle fixedFont">
                        <span class="methodType"></span>
                        <label class=" label label-info methodName">
                            实例</label>
                    </div>
                    <dl class="description">
                        <dt class="heading">代码如下:</dt>
                    </dl>
                    <pre style="margin:15px 0;font:100 12px/18px monaco, andale mono, courier new;padding:10px 12px;border:#ccc 1px solid;border-left-width:4px;background-color:#fefefe;box-shadow:0 0 4px #eee;word-break:break-all;word-wrap:break-word;color:#444">            <span style="color:#708">var</span> <span style="color:#000">waitingContent</span> = <span style="color:#000">$</span>(<span style="color:#a11">"&lt;li&gt;加载中...........&lt;/li&gt;"</span>);<br>            <span style="color:#708">var</span> <span style="color:#000">mm</span> = <span style="color:#708">new</span> <span style="color:#000">sl</span>.<span style="color:#000">ui</span>.<span style="color:#000">bottomload</span>({ <span style="color:#000">container</span>: <span style="color:#000">document</span>.<span style="color:#000">getElementById</span>(<span style="color:#a11">"Ul1"</span>),<br>                <span style="color:#000">onReach</span>: <span style="color:#708">function</span> () {<br>                    <span style="color:#000">$</span>(<span style="color:#a11">"#Ul1"</span>).<span style="color:#000">append</span>(<span style="color:#000">waitingContent</span>);<br>                },<br>                <span style="color:#000">LoadData</span>: <span style="color:#708">function</span> (<span style="color:#00f">data</span>) {<br>                    <span style="color:#000">$</span>(<span style="color:#a11">"#Ul1"</span>).<span style="color:#000">append</span>(<span style="color:#000-2">data</span>);<br>                    <span style="color:#000">$</span>(<span style="color:#000">waitingContent</span>).<span style="color:#000">remove</span>();<br>                },<br>                <span style="color:#000">ajaxRequest</span>: <span style="color:#219">true</span>,<br>                <span style="color:#000">ajaxOption</span>: { <span style="color:#000">url</span>: <span style="color:#a11">"../bottomloaded.ashx"</span> }<br>            });</pre>
                    <dl class="detailList">
                        <dt class="heading">效果:</dt>
                    </dl>
                    <ul id="Ul1">
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>
        <li>fsafsafasfsafsaaaaafasssssssssssssssssssssssssssssssssssaaaaaa</li>

    </ul>
                    <hr>
                    <div class="detailTitle fixedFont">
                        <span class="methodType"></span>
                        <label class=" label label-info methodName">
                            option参数说明</label>
                    </div>
                    <table class="summaryTable" cellspacing="0" summary="A summary of the methods documented in the class date.">
                        <thead>
                            <th>
                                名称
                            </th>
                            <th>
                                说明
                            </th>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    LoadRadius{number}
                                </td>
                                <td>
                                   在到达离底部n像素的时候触发加载
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    onReach{function}
                                </td>
                                <td>
                                    到达底部时候加载数据前触发
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    LoadData{function}
                                </td>
                                <td>
                                    到底底部加载数据函数
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    LoadError{function}
                                </td>
                                <td>
                                   ajax加载数据出错时候触发
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    ajaxRequest{boolean}
                                </td>
                                <td>
                                    当要采用ajax请求数据时候设置为true
                                </td>
                            </tr>
                             <tr>
                                <td>
                                    ajaxOption{object}
                                </td>
                                <td>
                                   ajaxOption请求参数 url data等等
                                </td>
                            </tr>
                             <tr>
                                <td>
                                    container{dom}
                                </td>
                                <td>
                                   加载元素的容器
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                </div>
            </div>
        </div>
    </div>
</body>
</html>
